

<div class="py-4 bg-dark container-fluid">

  <div class="d-flex mb-3 align-items-center justify-content-between flex-wrap gap-2">

   
    <p-floatLabel class="search-box relative mb-0" variant="on">
      <div class="input-wrapper">
        <i class="pi pi-search search-icon"></i>
        <input 
          pInputText 
          id="search" 
          type="text" 
          [(ngModel)]="SearchInput" 
          (ngModelChange)="applyFilters()"
          autocomplete="off" 
        />
        <label for="search">Search</label>
      </div>
    </p-floatLabel>

    
      <div class="d-flex align-items-center  flex-wrap gap-2">
        <p-floatlabel class="filter-box  mb-0" variant="on">
          <p-select 
            [options]="genres" 
            optionLabel="label" 
            optionValue="value" 
            [(ngModel)]="selectedGenre"
            (onChange)="applyFilters()" 
            [showClear]="true" 
            name="genre" 
            class="select w-full" 
          />
          <label for="form-label">Filter</label>
        </p-floatlabel>

      <button (click)="addBtn()" class="btn btn-primary">
        Add New Movie
      </button>
      <button class="btn btn-danger" (click)="logout()">
        Logout
      </button>
    </div>

  </div>



  <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 g-4">
    @for (movie of filteredMovies; track movie.id) {
    <div class="col">
      <div class="card h-100 border-0 shadow-sm movie-card">
        <img [src]="movie?.imageUrl" [alt]="movie?.title" class="card-img-top movie-image" />

        <div class="card-body">
          <h3 class="card-title fs-5 mb-2">{{ movie?.title }}</h3>
          <p class="text-muted mb-1"><strong>Genre:</strong> {{ movie?.genre }}</p>

          <p class="text-muted d-flex mb-1 align-items-center">
            <strong>Rating:</strong>
            <p-rating [ngModel]="movie?.rating ? movie.rating / 2 : 0" [readonly]="true" [stars]="5"
              class="mx-2"></p-rating>
            ({{ movie?.rating }}/10)
          </p>
          <p class="text-muted movie-description mb-2">{{ movie?.description }}</p>
          <small class="text-muted"><strong>Release Year:</strong> {{ movie?.releasedYear }}</small>

          <div class="d-flex mt-3">
            <button [routerLink]="['/edit', movie.id]" class="btn btn-warning btn-sm me-2">Edit</button>
            <button (click)="deleteBtn(movie.id)" class="btn btn-danger btn-sm">Delete</button>
          </div>
        </div>
      </div>
    </div>
    }
  </div>
</div>